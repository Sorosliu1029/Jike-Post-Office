<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: absolute; width: 0; height: 0"
    id="__SVG_SPRITE_NODE__">
    <symbol viewBox="0 0 24 24" id="symbol-link">
      <path d="M12.707 5.919a1 1 0 0 1-1.414-1.414l.848-.849a5.8 5.8 0 0 1 8.203 8.203l-2.546 2.545a5.8 5.8 0 0 1-8.202 0 1 1 0 1 1 1.414-1.414 3.8 3.8 0 0 0 5.374 0l2.546-2.546a3.8 3.8 0 0 0-5.374-5.374l-.849.849zM11.293 18.08a1 1 0 0 1 1.414 1.414l-.848.849a5.8 5.8 0 1 1-8.203-8.203l2.546-2.545a5.8 5.8 0 0 1 8.202 0 1 1 0 0 1-1.414 1.414 3.8 3.8 0 0 0-5.374 0L5.07 13.556a3.8 3.8 0 1 0 5.374 5.374l.849-.849z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="symbol-topic">
      <path d="M5.986 15l1-6H3a1 1 0 1 1 0-2h4.32l.694-4.164a1 1 0 1 1 1.972.328L9.347 7h6.973l.694-4.164a1 1 0 1 1 1.972.328L18.347 7H21a1 1 0 0 1 0 2h-2.986l-1 6H21a1 1 0 0 1 0 2h-4.32l-.694 4.164a1 1 0 1 1-1.972-.328L14.653 17H7.68l-.694 4.164a1 1 0 1 1-1.972-.328L5.653 17H3a1 1 0 0 1 0-2h2.986zm2.028 0h6.972l1-6H9.014l-1 6z"></path>
    </symbol>
    <symbol viewBox="0 0 17 17" id="symbol-remove">
      <path d="M9.565 8.595l5.829 5.829a.686.686 0 0 1-.97.97l-5.83-5.83-5.828 5.83a.686.686 0 0 1-.97-.97l5.829-5.83-5.83-5.828a.686.686 0 1 1 .97-.97l5.83 5.829 5.829-5.83a.686.686 0 0 1 .97.97l-5.83 5.83z"></path>
    </symbol>
    <symbol viewBox="0 0 16 16" id="symbol-warning">
      <path d="M8 12.344a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6m-.599-8.087a.6.6 0 1 1 1.2 0v4.8a.6.6 0 0 1-1.2 0v-4.8M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0"></path>
    </symbol>
  </svg>
  <div class="post-creator">
    <div class="post-creator-body">
      <div class="content-wrap">
        <textarea placeholder="分享点好东西......「由即刻镇邮局 🏤 投递」" class="input" autofocus style="width: 320px; min-width: 320px; height: 100px; min-height: 100px; overflow-y: hidden;">
        </textarea>
        <div class="link-info" style="display: none;">
          <img src="https://cdn.ruguoapp.com/jike-web/static/images/default-link.f807cc5.png">
          <span>果果正在解析链接...💪</span>
          <a>
            <svg class="symbol symbol-remove" id="link-info-remove">
              <use xlink:href="#symbol-remove"></use>
            </svg>
          </a>
        </div>
        <div class="topic-info" style="display: none;">
          <p>在
            <span>主题名</span>中发布</p>
          <a>
            <svg class="symbol symbol-remove" id="topic-info-remove">
              <use xlink:href="#symbol-remove"></use>
            </svg>
          </a>
        </div>
      </div>
      <div class="operation-wrap">
        <div>
          <button class="btn btn-link" id="toggle-link">
            <svg class="symbol symbol-link">
              <use xlink:href="#symbol-link"></use>
            </svg>链接</button>
          <button class="btn btn-link" id="toggle-topic">
            <svg class="symbol symbol-topic">
              <use xlink:href="#symbol-topic"></use>
            </svg>分享到主题</button>
        </div>
        <div>
          <button class="btn btn-primary" id="send">发布</button>
        </div>
      </div>
    </div>
    <div class="link-uploader" id="link-uploader" style="display: none;">
      <div class="link-uploader-content">
        <input type="text" placeholder="添加链接" value="" id="link-input">
        <button class="btn btn-disabled" id="add-link" disabled="">添加</button>
      </div>
    </div>
    <div class="post-creator-topic-search" id="topic-search" style="display: none;">
      <div class="post-creator-topic-search-content">
        <input type="text" placeholder="搜索主题" value="" id="search-input">
      </div>
      <div class="post-creator-topic-search-result" style="display: none;">
        <ul class="result-list">
        </ul>
      </div>
    </div>
    <div id="toast" class="btn btn-disabled" style="display: none; margin-top: 5px; background-color: transparent">
      <img class="feed-nav-tip-pic" src="https://cdn.ruguoapp.com/jike-web/static/images/eye.b3691f7.png" width="24px" height="24px"
        style="margin-right: 5px" />
      <span></span>
    </div>
    <div id="auth-warning" style="display: none; border-top: 2px solid gray; padding: 12px;">
      <div class="btn btn-disabled" style="background: transparent; color: black">
        <svg class="symbol symbol-link">
          <use xlink:href="#symbol-warning"></use>
        </svg>「即刻镇邮局」暂时没有得到授权</div>
      <button class="btn btn-warning" id="auth-btn" style="display: block; margin: auto;">点击去「即刻Web」授权</button>
      <div style="margin-top: 10px; font-size: 10px">
        授权说明：
        <br />1. 点击授权后，插件会直接获取 okjike.com 域名下的 Auth Token, 无需另外操作。
        <br />2. Auth Token用于发送动态时作身份认证，不作其他用途，仅会保存在本地。
        <b>非官方插件，若担心安全风险，请勿使用。</b>
        <br />3. Auth Token有过期时间，届时若发送失败，则需要重新授权。
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>

</html>